æ•°ç»„çš„æ„é€ æ–¹æ³•å¼•ç”¨æ˜¯Javaæ–¹æ³•å¼•ç”¨ä¸­ä¸€ä¸ªå®ç”¨ä¸”ä¼˜é›…çš„ç‰¹æ€§ï¼Œå®ƒèƒ½è®©ä½ åœ¨éœ€è¦ç”Ÿæˆæ•°ç»„çš„åœºåˆï¼Œå†™å‡ºéå¸¸ç®€æ´çš„ä»£ç ã€‚ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†å…¶æ ¸å¿ƒè¦ç´ ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€ŸæŠ“ä½è¦ç‚¹ã€‚

|æ ¸å¿ƒè¦ç´ |è¯´æ˜|ä½ çš„ä»£ç ç¤ºä¾‹|
|---|---|---|
|**è¯­æ³•æ ¼å¼**â€‹|`æ•°æ®ç±»å‹[]::new`|`Integer[]::new`|
|**æœ¬è´¨**â€‹|ä¸€ç§ç‰¹æ®Šå½¢å¼çš„**æ„é€ æ–¹æ³•å¼•ç”¨**ï¼Œä¸“ç”¨äºåˆ›å»ºæ•°ç»„ ã€‚|-|
|**ç­‰æ•ˆLambda**â€‹|`(int size) -> new Integer[size]`|`size -> new Integer[size]`|
|**åº”ç”¨åœºæ™¯**â€‹|ä¸»è¦ç”¨åœ¨ `Stream`çš„ `toArray()`æ–¹æ³•ä¸­ï¼Œå°†æµè½¬æ¢ä¸ºæ•°ç»„ ã€‚|`list.stream().toArray(Integer[]::new)`|
|**ç±»å‹åŒ¹é…**â€‹|æ•°ç»„çš„ç±»å‹å¿…é¡»ä¸æµä¸­å…ƒç´ çš„ç±»å‹ä¿æŒä¸€è‡´ ã€‚|æµä¸­æ˜¯ `Integer`ï¼Œæ‰€ä»¥ç”¨ `Integer[]::new`|

### ğŸ’¡ ç†è§£å…¶å·¥ä½œæœºåˆ¶

åœ¨ä½ çš„ä»£ç  `list.stream().toArray(Integer[]::new)`ä¸­ï¼Œæ•´ä¸ªè¿‡ç¨‹å¯ä»¥è¿™æ ·ç†è§£ï¼š

1. **ç”Ÿæˆæµ**ï¼š`list.stream()`ä¼šç”Ÿæˆä¸€ä¸ªå…ƒç´ ä¸º `Integer`ç±»å‹çš„æµï¼ˆ`Stream<Integer>`ï¼‰ã€‚
    
2. **è§¦å‘è½¬æ¢**ï¼š`toArray()`æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå®ƒéœ€è¦çŸ¥é“å…·ä½“è¦åˆ›å»ºä»€ä¹ˆç±»å‹çš„æ•°ç»„æ¥å­˜æ”¾æµä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚
    
3. **æä¾›â€œè“å›¾â€**ï¼š`Integer[]::new`åœ¨è¿™é‡Œæ‰®æ¼”äº†ä¸€ä¸ªâ€œæ•°ç»„ç”Ÿæˆå™¨â€çš„è§’è‰²ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª `IntFunction<Integer[]>`ç±»å‹çš„å‡½æ•°å¼æ¥å£ï¼Œå…¶ä½œç”¨æ˜¯æ¥æ”¶ä¸€ä¸ªè¡¨ç¤ºæ•°ç»„é•¿åº¦çš„ `int`å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹åº”ç±»å‹å’Œé•¿åº¦çš„æ–°æ•°ç»„ ã€‚
    
4. **è‡ªåŠ¨æ‰§è¡Œ**ï¼š`toArray()`æ–¹æ³•å†…éƒ¨ä¼šè‡ªåŠ¨è®¡ç®—æµçš„å¤§å°ï¼Œç„¶åå°†è¿™ä¸ªå¤§å°å€¼ä¼ é€’ç»™ `Integer[]::new`è¿™ä¸ªâ€œè“å›¾â€ï¼Œæœ€ç»ˆåˆ›å»ºå‡ºä¸€ä¸ªå°ºå¯¸æ­£å¥½çš„ `Integer[]`æ•°ç»„ã€‚
    

### ğŸ†š ä¸ä¼ ç»Ÿå†™æ³•çš„å¯¹æ¯”

ä½¿ç”¨æ•°ç»„æ„é€ æ–¹æ³•å¼•ç”¨å¯ä»¥æå¤§ç®€åŒ–ä»£ç ã€‚å¯¹æ¯”ä¸€ä¸‹ä¼ ç»Ÿçš„åŒ¿åå†…éƒ¨ç±»å†™æ³•ï¼Œå…¶ä¼˜åŠ¿éå¸¸æ˜æ˜¾ï¼š

```
// ä¼ ç»Ÿå†™æ³•ï¼šä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
Integer[] arr = list.stream().toArray(new IntFunction<Integer[]>() {
    @Override
    public Integer[] apply(int value) { // value å°±æ˜¯æ•°ç»„é•¿åº¦
        return new Integer[value];
    }
});

// ç®€åŒ–å†™æ³•ï¼šä½¿ç”¨æ•°ç»„æ„é€ æ–¹æ³•å¼•ç”¨
Integer[] arr = list.stream().toArray(Integer[]::new);
```

å¯ä»¥çœ‹åˆ°ï¼Œæ–¹æ³•å¼•ç”¨è®©ä»£ç å˜å¾—å¼‚å¸¸æ¸…æ™°å’Œç®€æ´ï¼Œæ„å›¾ä¸€ç›®äº†ç„¶ ã€‚

### ğŸ”„ ä¸¾ä¸€åä¸‰

è¿™ç§å¼•ç”¨æ–¹å¼éå¸¸é€šç”¨ï¼Œåªéœ€æ”¹å˜æ•°æ®ç±»å‹å³å¯ï¼š

```
// å¦‚æœæ˜¯å­—ç¬¦ä¸²åˆ—è¡¨
ArrayList<String> stringList = ...;
String[] strArray = stringList.stream().toArray(String[]::new);

// å¦‚æœæ˜¯è‡ªå®šä¹‰å¯¹è±¡åˆ—è¡¨
ArrayList<Student> studentList = ...;
Student[] studentArray = studentList.stream().toArray(Student[]::new);
```

### âš ï¸ ä¸€ç‚¹æ³¨æ„

ä½¿ç”¨æ•°ç»„æ„é€ æ–¹æ³•å¼•ç”¨æ—¶ï¼Œæœ€å…³é”®çš„ä¸€ç‚¹æ˜¯ç¡®ä¿**æ•°ç»„çš„ç±»å‹ï¼ˆ`Integer[]`ï¼‰å¿…é¡»ä¸æµä¸­å…ƒç´ çš„ç±»å‹ï¼ˆ`Integer`ï¼‰ä¿æŒä¸€è‡´**ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ ã€‚

å¸Œæœ›è¿™ä¸ªè§£é‡Šèƒ½å¸®åŠ©ä½ å½»åº•ç†è§£æ•°ç»„çš„æ„é€ æ–¹æ³•å¼•ç”¨ï¼
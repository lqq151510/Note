Maven 继承是管理多模块项目的核心机制，它允许你在一个父 POM 中集中定义配置，供子模块复用，从而有效提升项目管理效率并保证一致性。

|特性维度|继承 (Inheritance)|聚合 (Aggregation)|
|---|---|---|
|**核心目的**​|**配置复用与统一管理**​|**统一构建多个模块**​|
|**关系方向**​|子模块指向父模块 (子 → 父)|聚合模块包含子模块 (父 → 子)|
|**关键配置**​|子模块中使用 `<parent>`标签|父模块中使用 `<modules>`标签|
|**项目类型**​|父模块的打包类型必须为 `pom`|聚合模块的打包类型必须为 `pom`|

### 💻 如何实现继承

#### 1. 创建父模块

父模块本身通常没有源代码，其 `pom.xml`的打包类型必须设置为 `pom`。

```
<!-- 父模块 pom.xml -->
<groupId>com.example</groupId>
<artifactId>my-parent</artifactId>
<version>1.0.0</version>
<packaging>pom</packaging> <!-- 关键配置 -->
```

#### 2. 关键配置：依赖管理

父模块通过 `<dependencyManagement>`节点来**声明依赖及其版本**，这并不会直接引入依赖，而是提供一个版本管理清单。子模块可以按需声明这些依赖，且无需指定版本。

```
<!-- 在父模块的 pom.xml 中 -->
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
            <version>2.7.0</version> <!-- 统一版本 -->
        </dependency>
        <!-- 其他依赖声明 -->
    </dependencies>
</dependencyManagement>
```

#### 3. 配置子模块

在子模块的 `pom.xml`中，通过 `<parent>`标签指向父模块。`<relativePath>`用于指定父模块 POM 文件的相对路径，如果省略，Maven 会从本地仓库或远程仓库查找。

```
<!-- 子模块 pom.xml -->
<parent>
    <groupId>com.example</groupId>
    <artifactId>my-parent</artifactId>
    <version>1.0.0</version>
    <relativePath>../my-parent/pom.xml</relativePath> <!-- 指向父POM -->
</parent>
<artifactId>my-child-module</artifactId>
<!-- 继承父模块的 groupId 和 version，此处可省略 -->

<dependencies>
    <!-- 声明需要的依赖，版本从父模块继承 -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
        <!-- 无需指定版本 -->
    </dependency>
</dependencies>
```

### ⚠️ 核心要点与常见问题

- **依赖继承的两种方式**：父模块中直接在 `<dependencies>`下声明的依赖会被所有子模块**强制继承**；而在 `<dependencyManagement>`中声明的依赖，子模块则**有选择地继承**。
    
- **属性继承与覆盖**：子模块会继承父模块定义的属性（如 `<properties>`），但子模块可以覆盖这些属性。同样，如果子模块显式声明了依赖的版本，则会**覆盖父模块中定义的版本**。
    
- **聚合与继承的结合**：在实际项目中，父模块通常也作为聚合模块使用，即在父模块的 `pom.xml`中通过 `<modules>`指定子模块，从而实现一键构建所有模块。
    
- **解决“套娃”问题**：当父模块（尚未安装到仓库）同时聚合了子模块时，构建可能会因找不到父模块而失败。可靠的解决方法是确保子模块中通过 `<relativePath>`正确指定了父 POM 的路径。
    

### 💎 进阶技巧：使用 `import`依赖范围

`<dependencyManagement>`部分支持通过 `import`范围继承其他 POM 中管理的依赖，这相当于实现了依赖管理的“多继承”，非常适合用于统一管理公司内部或第三方（如 Spring Boot）的依赖 BOM（Bill of Materials）。

```
<!-- 在父模块的 dependencyManagement 内 -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-dependencies</artifactId>
    <version>2.7.0</version>
    <type>pom</type> <!-- 类型为pom -->
    <scope>import</scope> <!-- 依赖范围是import -->
</dependency>
```

希望这些信息能帮助你更好地运用 Maven 继承。如果你在具体配置中遇到问题，或者想了解特定场景下的最佳实践，我们可以继续深入探讨。
在Maven项目中，测试主要借助JUnit等框架实现。下面这个表格汇总了JUnit 5（当前主流版本）和JUnit 4的核心注解及其作用，能帮你快速把握其整体框架。

| 注解目的        | JUnit 5 注解                      | JUnit 4 注解                        | 核心作用说明                                   |
| ----------- | ------------------------------- | --------------------------------- | ---------------------------------------- |
| **声明测试方法**​ | `@Test`                         | `@Test`                           | 标记一个方法为测试方法。                             |
| **生命周期回调**​ | `@BeforeEach`  <br>`@AfterEach` | `@Before`  <br>`@After`           | 在每个测试方法**之前/之后**执行，常用于初始化和清理。            |
| **生命周期回调**​ | `@BeforeAll`  <br>`@AfterAll`   | `@BeforeClass`  <br>`@AfterClass` | 在所有测试方法**开始前/结束后**执行**一次**，方法需为`static`。 |
| **禁用测试**​   | `@Disabled`                     | `@Ignore`                         | 临时禁用测试类或方法。                              |
| **自定义显示名**​ | `@DisplayName`                  | -                                 | 为测试类或方法设置更易读的名称（支持中文和Emoji）。             |
| **参数化测试**​  | `@ParameterizedTest`            | `@Parameters`(需配合 `@RunWith`)     | 允许使用不同参数多次运行同一测试方法。                      |
| **嵌套测试**​   | `@Nested`                       | -                                 | 创建嵌套测试类，更好地组织相关测试。                       |

### 💡 核心注解详解与示例

以下代码片段展示了JUnit 5中几个最关键注解的典型用法：

```
import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

class CalculatorTest {

    private Calculator calculator;

    @BeforeAll
    static void initAll() {
        System.out.println("一次性初始化，例如启动外部服务（如数据库连接池）。");
    }

    @BeforeEach
    void init() {
        calculator = new Calculator(); // 在每个测试方法执行前重新初始化，保证测试独立性
    }

    @Test
    @DisplayName("测试加法：1 + 1 应该等于 2")
    void testAddition() {
        int result = calculator.add(1, 1);
        assertEquals(2, result, "加法运算结果不正确");
    }

    @Test
    @Disabled("功能尚未实现，暂时跳过")
    void testFeatureNotImplemented() {
        // 待实现的测试
    }

    @AfterEach
    void tearDown() {
        calculator = null; // 清理资源
    }

    @AfterAll
    static void tearDownAll() {
        System.out.println("所有测试结束，清理全局资源（如关闭数据库连接）。");
    }
}
```

### 🛠️ 进阶用法与场景

掌握了基础注解后，可以了解以下进阶用法以应对更复杂的测试场景。

- **参数化测试**：使用`@ParameterizedTest`并结合`@ValueSource`、`@CsvSource`等注解提供参数源，能极大减少为不同输入数据编写重复测试代码的工作量。
    
    ```
    @ParameterizedTest
    @CsvSource({"1, 2, 3", "4, 5, 9", "10, -1, 9"})
    void testAddWithParameters(int a, int b, int expected) {
        assertEquals(expected, calculator.add(a, b));
    }
    ```
    
- **Spring集成测试**：在Spring Boot项目中，测试通常需要集成Spring容器。`@SpringBootTest`注解用于加载完整的应用程序上下文，而`@MockBean`则用于模拟外部依赖（如数据库访问），确保单元测试的隔离性。
    

### ⚠️ 版本差异与最佳实践

- **版本差异**：JUnit 5是模块化设计的现代版本，推荐新项目使用。JUnit 4仍广泛存在。主要区别在于包名（JUnit 5为`org.junit.jupiter`）和一些注解的命名。
    
- **最佳实践**：
    
    - **测试隔离**：确保每个测试方法独立，不依赖执行顺序。利用`@BeforeEach`/`@AfterEach`为每个测试提供干净的环境。
        
    - **有意义的命名**：使用`@DisplayName`或遵循`方法名_测试场景_预期结果`的命名约定，使测试意图清晰。
        
    - **单一职责**：每个测试方法只验证一个明确的行为或逻辑分支。
        
    

希望这份详细的注解说明能帮助你更好地编写Maven项目中的测试。如果你对某个特定注解或测试场景有更深入的问题，我很乐意继续探讨。
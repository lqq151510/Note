å­—èŠ‚è¾“å…¥æµæ˜¯Java I/Oä½“ç³»ä¸­ç”¨äºè¯»å–äºŒè¿›åˆ¶æ•°æ®çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒå…è®¸ä½ ä»æ–‡ä»¶ã€ç½‘ç»œè¿æ¥ã€å†…å­˜ç­‰ä¸åŒæ•°æ®æºä¸­ä»¥å­—èŠ‚ä¸ºå•ä½è¯»å–æ•°æ®ã€‚

ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ±‡æ€»äº†å­—èŠ‚è¾“å…¥æµçš„æ ¸å¿ƒç±»åŠå…¶ç”¨é€”ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå»ºç«‹æ•´ä½“è®¤çŸ¥ã€‚

|æ ¸å¿ƒç±»|ä¸»è¦ç”¨é€”|å…³é”®ç‰¹ç‚¹|
|---|---|---|
|**`InputStream`**â€‹|æ‰€æœ‰å­—èŠ‚è¾“å…¥æµçš„**æŠ½è±¡åŸºç±»**ã€‚|å®šä¹‰äº†åŸºæœ¬çš„è¯»å–æ–¹æ³•ï¼Œå¦‚ `read()`ã€‚|
|**`FileInputStream`**â€‹|ä»**æ–‡ä»¶**ä¸­è¯»å–æ•°æ®ã€‚|æœ€å¸¸ç”¨çš„èŠ‚ç‚¹æµä¹‹ä¸€ï¼Œç›´æ¥è¿æ¥æ•°æ®æºã€‚|
|**`ByteArrayInputStream`**â€‹|ä»å†…å­˜ä¸­çš„**å­—èŠ‚æ•°ç»„**è¯»å–æ•°æ®ã€‚|æ•°æ®æºåœ¨å†…å­˜ä¸­ï¼Œé€‚ç”¨äºä¸´æ—¶æ•°æ®å¤„ç†ã€‚|
|**`BufferedInputStream`**â€‹|ä¸ºå…¶ä»–è¾“å…¥æµæä¾›**ç¼“å†²åŒº**ï¼Œæå‡è¯»å–æ•ˆç‡ã€‚|å±äºå¤„ç†æµï¼ˆè£…é¥°å™¨æ¨¡å¼ï¼‰ï¼Œé€šè¿‡å‡å°‘å®é™…I/Oæ“ä½œæ¥ä¼˜åŒ–æ€§èƒ½ã€‚|
|**`DataInputStream`**â€‹|ä»åº•å±‚è¾“å…¥æµè¯»å–**åŸºæœ¬æ•°æ®ç±»å‹**ï¼ˆå¦‚int, doubleï¼‰å’Œå­—ç¬¦ä¸²ã€‚|å…è®¸æŒ‰ç‰¹å®šæ ¼å¼è¯»å–JavaåŸå§‹æ•°æ®ç±»å‹ï¼Œä¸æœºå™¨æ— å…³ã€‚|
|**`ObjectInputStream`**â€‹|ä»æµä¸­**ååºåˆ—åŒ–**å¯¹è±¡ã€‚|ç”¨äºè¯»å–ä½¿ç”¨`ObjectOutputStream`åºåˆ—åŒ–çš„å¯¹è±¡ã€‚|

### ğŸ’¡ æ ¸å¿ƒæ–¹æ³•ä¸å·¥ä½œæ¨¡å¼

`InputStream`ä½œä¸ºæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†ä»¥ä¸‹å‡ ä¸ªæœ€æ ¸å¿ƒçš„è¯»å–æ–¹æ³•ï¼š

- **`int read()`**ï¼šè¯»å–**ä¸€ä¸ªå­—èŠ‚**çš„æ•°æ®ï¼Œè¿”å›å€¼ä¸º0-255çš„æ•´æ•°ã€‚å¦‚æœåˆ°è¾¾æµçš„æœ«å°¾ï¼Œè¿”å›-1ã€‚
    
- **`int read(byte[] b)`**ï¼šå°è¯•è¯»å–æœ€å¤š `b.length`ä¸ªå­—èŠ‚çš„æ•°æ®åˆ°æä¾›çš„å­—èŠ‚æ•°ç»„ä¸­ï¼Œè¿”å›**å®é™…è¯»å–çš„å­—èŠ‚æ•°**ï¼›å¦‚æœåˆ°è¾¾æµæœ«å°¾ï¼ŒåŒæ ·è¿”å›-1ã€‚è¿™æ˜¯**æœ€å¸¸ç”¨ä¸”é«˜æ•ˆ**çš„è¯»å–æ–¹å¼ã€‚
    
- **`int read(byte[] b, int off, int len)`**ï¼šå°è¯•è¯»å–æœ€å¤š `len`ä¸ªå­—èŠ‚çš„æ•°æ®åˆ°æ•°ç»„ä¸­ï¼Œä»ç´¢å¼• `off`çš„ä½ç½®å¼€å§‹å­˜æ”¾ã€‚ç”¨äºæ›´ç²¾ç¡®åœ°æ§åˆ¶è¯»å–ã€‚
    

ä½¿ç”¨å­—èŠ‚è¾“å…¥æµçš„åŸºæœ¬å·¥ä½œæ¨¡å¼éµå¾ªä¸€ä¸ªæ¸…æ™°çš„æµç¨‹ï¼Œä¸‹å›¾å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹åŠæ ¸å¿ƒæ–¹æ³•åœ¨å…¶ä¸­æ‰®æ¼”çš„è§’è‰²ï¼š

```
flowchart TD
    A[åˆ›å»ºè¾“å…¥æµå¯¹è±¡] --> B[è°ƒç”¨è¯»å–æ–¹æ³•]
    B --> C{è¯»å–æˆåŠŸ?}
    C -- æ˜¯ --> D[å¤„ç†æ•°æ®]
    D --> B
    C -- å¦<br>ï¼ˆåˆ°è¾¾æµæœ«å°¾ï¼‰ --> E[å…³é—­æµ]
```

### ğŸš€ å¸¸ç”¨å­ç±»ä»£ç ç¤ºä¾‹

#### ä»æ–‡ä»¶è¯»å–

ä½¿ç”¨ `FileInputStream`è¯»å–æ–‡ä»¶å†…å®¹æ˜¯æœ€å¸¸è§çš„åœºæ™¯ã€‚**å¼ºçƒˆå»ºè®®ä½¿ç”¨try-with-resourcesè¯­å¥**ï¼Œå®ƒèƒ½ç¡®ä¿æµåœ¨ä½¿ç”¨å®Œæ¯•åè¢«è‡ªåŠ¨å…³é—­ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚

```
// ä½¿ç”¨try-with-resourcesè‡ªåŠ¨ç®¡ç†èµ„æº
try (FileInputStream fis = new FileInputStream("example.txt")) {
    byte[] buffer = new byte[1024]; // åˆ›å»ºä¸€ä¸ªç¼“å†²åŒº
    int bytesRead;
    // å¾ªç¯è¯»å–ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾
    while ((bytesRead = fis.read(buffer)) != -1) {
        // å¤„ç†è¯»å–åˆ°çš„æ•°æ®ï¼Œæ³¨æ„ä½¿ç”¨å®é™…è¯»å–çš„é•¿åº¦bytesRead
        String content = new String(buffer, 0, bytesRead);
        System.out.print(content);
    }
} catch (IOException e) {
    e.printStackTrace();
}
```

#### æå‡æ•ˆç‡ï¼šä½¿ç”¨ç¼“å†²æµ

åœ¨è¿›è¡Œé¢‘ç¹çš„è¯»å†™æ“ä½œæ—¶ï¼Œä½¿ç”¨ `BufferedInputStream`åŒ…è£…åŸºç¡€çš„ `FileInputStream`å¯ä»¥æ˜¾è‘—æå‡æ•ˆç‡ã€‚å®ƒé€šè¿‡åœ¨å†…å­˜ä¸­è®¾ç«‹ä¸€ä¸ªç¼“å†²åŒºï¼Œå°†å¤šæ¬¡å°é‡çš„è¯»å–æ“ä½œæ±‡èšæˆä¸€æ¬¡å¤§é‡çš„ç‰©ç†è¯»å–ã€‚

```
// ä½¿ç”¨BufferedInputStreamæå‡è¯»å–æ•ˆç‡
try (FileInputStream fis = new FileInputStream("large_file.dat");
     BufferedInputStream bis = new BufferedInputStream(fis)) { // åŒ…è£…åŸºç¡€æµ
    byte[] buffer = new byte[8192]; // å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ç¼“å†²åŒº
    int bytesRead;
    while ((bytesRead = bis.read(buffer)) != -1) {
        // å¤„ç†æ•°æ®
    }
} catch (IOException e) {
    e.printStackTrace();
}
```

#### è¯»å–ç‰¹å®šæ•°æ®ç±»å‹

å½“éœ€è¦è¯»å–intã€doubleç­‰åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œ`DataInputStream`éå¸¸æœ‰ç”¨ã€‚

```
// å‡è®¾æ•°æ®æ–‡ä»¶ç”±DataOutputStreamå†™å…¥: writeInt(100), writeDouble(3.14), writeUTF("Hello")
try (DataInputStream dis = new DataInputStream(new FileInputStream("data.bin"))) {
    int intValue = dis.readInt();
    double doubleValue = dis.readDouble();
    String stringValue = dis.readUTF(); // è¯»å–UTF-8ç¼–ç çš„å­—ç¬¦ä¸²
    System.out.printf("è¯»å–çš„æ•°æ®: %d, %.2f, %s%n", intValue, doubleValue, stringValue);
} catch (IOException e) {
    e.printStackTrace();
}
```

### âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **èµ„æºç®¡ç†**ï¼šåŠ¡å¿…ç¡®ä¿æµè¢«å…³é—­ã€‚**try-with-resources**â€‹ æ˜¯æœ€å®‰å…¨ã€æœ€ç®€æ´çš„æ–¹å¼ã€‚
    
2. **å­—ç¬¦ç¼–ç é—®é¢˜**ï¼šå­—èŠ‚æµç›´æ¥è¯»å–å­—èŠ‚ï¼Œè‹¥æ–‡ä»¶æ˜¯æ–‡æœ¬ä¸”åŒ…å«ä¸­æ–‡ï¼Œç›´æ¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¯èƒ½ä¹±ç ã€‚å› ä¸ºä¸­æ–‡å­—ç¬¦åœ¨UTF-8ç­‰ç¼–ç ä¸­å å¤šä¸ªå­—èŠ‚ã€‚å¤„ç†æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œé€šå¸¸æ›´æ¨èä½¿ç”¨**å­—ç¬¦æµï¼ˆReader/Writerï¼‰**ï¼Œå®ƒä»¬èƒ½æ›´å¥½åœ°å¤„ç†ç¼–ç è½¬æ¢ã€‚
    
3. **ç¼“å†²åŒºå¤§å°**ï¼šä½¿ç”¨ç¼“å†²åŒºæ—¶ï¼Œå¤§å°ï¼ˆå¦‚`new byte[1024]`ï¼‰å¯æ ¹æ®éœ€è¦è°ƒæ•´ã€‚é€šå¸¸4KB-8KBæ˜¯è¾ƒå¥½çš„å¹³è¡¡ç‚¹ã€‚
    
4. **ç»“å°¾åˆ¤æ–­**ï¼šå§‹ç»ˆæ£€æŸ¥ `read()`æˆ– `read(byte[])`çš„è¿”å›å€¼æ˜¯å¦ä¸º-1ï¼Œè¿™æ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦è¯»å–å®Œæ¯•çš„å”¯ä¸€æ ‡å‡†ã€‚
    

### ğŸ’ æ€»ç»“

å­—èŠ‚è¾“å…¥æµæ˜¯å¤„ç†æ‰€æœ‰äºŒè¿›åˆ¶æ•°æ®è¾“å…¥çš„åŸºçŸ³ã€‚`FileInputStream`ç”¨äºæ–‡ä»¶æ“ä½œï¼Œç»“åˆ `BufferedInputStream`å¯æå‡æ•ˆç‡ï¼Œè€Œ `DataInputStream`åˆ™ç”¨äºè¯»å–ç‰¹å®šæ•°æ®ç±»å‹ã€‚ç†è§£å…¶æ ¸å¿ƒæ–¹æ³•å’Œå·¥ä½œåŸç†ï¼Œå¹¶æ³¨æ„èµ„æºç®¡ç†å’Œå­—ç¬¦ç¼–ç é—®é¢˜ï¼Œæ˜¯æ­£ç¡®ä½¿ç”¨å®ƒä»¬çš„å…³é”®ã€‚

å¸Œæœ›è¿™äº›è§£é‡Šå’Œç¤ºä¾‹èƒ½å¸®åŠ©ä½ æŒæ¡Javaå­—èŠ‚è¾“å…¥æµã€‚å¦‚æœä½ å¯¹å¤„ç†æ–‡æœ¬æ–‡ä»¶æ›´æ„Ÿå…´è¶£ï¼Œæƒ³äº†è§£å¦‚ä½•é¿å…ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç€æ¢è®¨å­—ç¬¦æµã€‚
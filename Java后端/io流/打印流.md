æ‰“å°æµæ˜¯Java I/Oä½“ç³»ä¸­ç”¨äº**ç®€åŒ–æ•°æ®è¾“å‡º**çš„åˆ©å™¨ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—ä¾¿æ·çš„æ–¹æ³•ï¼Œèƒ½å®ç°â€œæ‰“å°ä»€ä¹ˆï¼Œè¾“å‡ºå°±æ˜¯ä»€ä¹ˆâ€çš„æ•ˆæœã€‚ä¸‹é¢è¿™ä¸ªè¡¨æ ¼å¸®ä½ å¿«é€ŸæŠ“ä½å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«ã€‚

|ç‰¹æ€§ç»´åº¦|`PrintStream`|`PrintWriter`|
|---|---|---|
|**ç»§æ‰¿å…³ç³»**â€‹|ç»§æ‰¿è‡ª `OutputStream`ï¼Œæ˜¯**å­—èŠ‚æµ**â€‹|ç»§æ‰¿è‡ª `Writer`ï¼Œæ˜¯**å­—ç¬¦æµ**â€‹|
|**æ ¸å¿ƒç”¨é€”**â€‹|å¤„ç†**å­—èŠ‚æ•°æ®**ï¼Œå¦‚å›¾ç‰‡ã€éŸ³é¢‘ç­‰äºŒè¿›åˆ¶æ–‡ä»¶|å¤„ç†**å­—ç¬¦æ•°æ®**ï¼Œå¦‚æ–‡æœ¬æ–‡ä»¶|
|**è‡ªåŠ¨åˆ·æ–°**â€‹|é‡åˆ°æ¢è¡Œç¬¦(`\n`)æˆ–è°ƒç”¨`println()`æ—¶**å¯èƒ½**è‡ªåŠ¨åˆ·æ–°|é€šå¸¸éœ€åœ¨æ„é€ æ—¶æŒ‡å®šè‡ªåŠ¨åˆ·æ–°ï¼Œæˆ–æ‰‹åŠ¨`flush()`|
|**å­—ç¬¦ç¼–ç **â€‹|ä½¿ç”¨å¹³å°**é»˜è®¤ç¼–ç **ï¼Œè·¨å¹³å°éœ€è°¨æ…|å¯**æ˜¾å¼æŒ‡å®šç¼–ç **ï¼ˆå¦‚UTF-8ï¼‰ï¼Œæ›´é€‚åˆå›½é™…åŒ–|
|**å¼‚å¸¸å¤„ç†**â€‹|æ–¹æ³•**ä¸æŠ›å‡º**`IOException`ï¼Œå¯é€šè¿‡`checkError()`æ£€æŸ¥|æ–¹æ³•ä¹Ÿ**ä¸æŠ›å‡º**`IOException`|

### ğŸ’¡ æ‰“å°æµä¸ºä½•é‡è¦

åœ¨æ‰“å°æµå‡ºç°ä¹‹å‰ï¼Œè¾“å‡ºå„ç§ç±»å‹çš„æ•°æ®æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯”å¦‚æ•´æ•°éœ€è¦è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„æ‰èƒ½å†™å…¥ã€‚æ‰“å°æµï¼ˆç‰¹åˆ«æ˜¯`print()`å’Œ`println()`æ–¹æ³•ï¼‰é‡è½½äº†å‡ ä¹æ‰€æœ‰JavaåŸºæœ¬æ•°æ®ç±»å‹å’Œå¯¹è±¡ï¼Œä½ å¯ä»¥ç›´æ¥`println(97)`è¾“å‡º`97`ï¼Œè€Œä¸å¿…å…³å¿ƒåº•å±‚çš„å­—èŠ‚è½¬æ¢ã€‚è¿™æå¤§æå‡äº†å¼€å‘æ•ˆç‡å’Œä»£ç å¯è¯»æ€§ã€‚

æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ `System.out.println()`ä¸­çš„ `System.out`ï¼Œå…¶å®å°±æ˜¯ä¸€å€‹ `PrintStream`å¯¹è±¡ï¼Œå…¶é»˜è®¤è¾“å‡ºæ–¹å‘æ˜¯æ§åˆ¶å°ã€‚

### ğŸ› ï¸ åŸºæœ¬ä½¿ç”¨æ–¹æ³•

**1. ä½¿ç”¨ PrintStream**

```
// åˆ›å»ºå­—èŠ‚æ‰“å°æµï¼Œè¾“å‡ºåˆ°æ–‡ä»¶
try (PrintStream ps = new PrintStream(new FileOutputStream("output.txt"))) {
    ps.println("ä½ å¥½ï¼ŒPrintStreamï¼"); // è¾“å‡ºå­—ç¬¦ä¸²
    ps.println(100); // è¾“å‡ºæ•´æ•°ï¼Œç›´æ¥æ˜¾ç¤º100
    ps.println(3.14); // è¾“å‡ºæµ®ç‚¹æ•°
    ps.printf("å§“å: %s, å¹´é¾„: %d", "å¼ ä¸‰", 20); // æ ¼å¼åŒ–è¾“å‡º
} catch (FileNotFoundException e) {
    e.printStackTrace();
}
```

**2. ä½¿ç”¨ PrintWriter**

```
// åˆ›å»ºå­—ç¬¦æ‰“å°æµï¼Œå¹¶å¯ç”¨è‡ªåŠ¨åˆ·æ–°
try (PrintWriter pw = new PrintWriter(new FileWriter("output.txt"), true)) {
    pw.println("ä½ å¥½ï¼ŒPrintWriterï¼");
    pw.println(200);
    // å¯ç”¨è‡ªåŠ¨åˆ·æ–°åï¼Œè°ƒç”¨println()åä¼šè‡ªåŠ¨flushï¼Œæ•°æ®åŠæ—¶å†™å…¥
} catch (IOException e) {
    e.printStackTrace();
}
```

> **æ³¨æ„**ï¼šä¸Šé¢ä»£ç ä½¿ç”¨äº†**try-with-resources**è¯­æ³•ï¼Œèƒ½ç¡®ä¿æµè¢«æ­£ç¡®å…³é—­ï¼Œé¿å…èµ„æºæ³„æ¼ï¼Œè¿™æ˜¯æ¨èçš„åšæ³•ã€‚

### âš”ï¸ å¦‚ä½•é€‰æ‹©ï¼Ÿ

äº†è§£äº†åŸºæœ¬ç”¨æ³•åï¼Œä½ å¯èƒ½ä¼šé—®ï¼šå…·ä½“è¯¥æ€ä¹ˆé€‰ï¼Ÿ

- **å¤„ç†çº¯æ–‡æœ¬ã€éœ€è¦è‰¯å¥½å›½é™…åŒ–æ”¯æŒï¼ˆå¦‚å¤„ç†ä¸­æ–‡ï¼‰æ—¶**ï¼šä¼˜å…ˆé€‰æ‹© **`PrintWriter`**ï¼Œå› ä¸ºå®ƒå¯¹å­—ç¬¦ç¼–ç æœ‰æ›´å¥½çš„æ§åˆ¶ã€‚
    
- **å¤„ç†äºŒè¿›åˆ¶æ•°æ®æˆ–ä¸ç°æœ‰`OutputStream`ç´§å¯†é›†æˆæ—¶**ï¼šä½¿ç”¨ **`PrintStream`**ï¼Œæ¯”å¦‚æ ‡å‡†è¾“å‡º`System.out`å°±æ˜¯`PrintStream`å®ä¾‹ã€‚
    
- **æ—¥å¸¸æ—¥å¿—è®°å½•ã€æ§åˆ¶å°è¾“å‡º**ï¼šä¸¤è€…å‡å¯ï¼Œä½†`PrintWriter`åœ¨æ–‡æœ¬å¤„ç†ä¸Šæ›´ä¸“ä¸šã€‚
    

### ğŸš€ è¿›é˜¶æŠ€å·§ä¸åº”ç”¨

**1. é‡å®šå‘æ ‡å‡†è¾“å‡º**

ä½ å¯ä»¥å°†`System.out`é‡å®šå‘åˆ°æ–‡ä»¶ï¼Œè¿™æ ·æ‰€æœ‰`System.out.println()`è¯­å¥çš„è¾“å‡ºéƒ½ä¼šå†™å…¥æ–‡ä»¶ï¼Œéå¸¸é€‚åˆç”Ÿæˆæ—¥å¿—ã€‚

```
// ä¿å­˜åŸæ¥çš„æ ‡å‡†è¾“å‡º
PrintStream originalOut = System.out;
// é‡å®šå‘åˆ°æ–‡ä»¶
PrintStream fileStream = new PrintStream(new FileOutputStream("log.txt"));
System.setOut(fileStream);
// æ­¤æ—¶æ‰€æœ‰System.outçš„è¾“å‡ºéƒ½å»äº†log.txt
System.out.println("è¿™è¡Œå†…å®¹ä¼šè¢«å†™å…¥æ–‡ä»¶");
// æ¢å¤æ ‡å‡†è¾“å‡º
System.setOut(originalOut);
```

**2. å®ç°ä¸€ä¸ªç®€å•çš„æ—¥å¿—å·¥å…·**

ç»“åˆæ‰“å°æµï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºä¸€ä¸ªç®€å•çš„æ—¥å¿—å·¥å…·ã€‚

```
import java.io.PrintWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class SimpleLogger {
    private static PrintWriter writer;
    private static final SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");

    static {
        try {
            // è¿½åŠ æ¨¡å¼å†™å…¥æ–‡ä»¶
            writer = new PrintWriter(new FileWriter("app.log", true), true);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static void info(String message) {
        String logEntry = String.format("[INFO][%s] %s", sdf.format(new Date()), message);
        writer.println(logEntry); // å†™å…¥æ–‡ä»¶
        System.out.println(logEntry); // åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°
    }

    // ç±»ä¼¼å¯ä»¥æ·»åŠ error, warnç­‰æ–¹æ³•
}
```

### âš ï¸ å®è·µä¸­çš„å¸¸è§é™·é˜±

1. **è¾“å‡ºå†…å®¹ä¸æ˜¾ç¤ºæˆ–ä¸¢å¤±**ï¼šè¿™é€šå¸¸æ˜¯å› ä¸º**æ²¡æœ‰æ­£ç¡®å…³é—­æµ**æˆ–**å¿˜è®°æ‰‹åŠ¨åˆ·æ–°**ã€‚ç¡®ä¿ä½¿ç”¨try-with-resourcesæˆ–åœ¨finallyå—ä¸­å…³é—­æµï¼Œæˆ–åœ¨éœ€è¦æ—¶è°ƒç”¨`flush()`æ–¹æ³•ã€‚
    
2. **ä¸­æ–‡ä¹±ç **ï¼šè¿™æ˜¯å­—ç¬¦ç¼–ç ä¸ä¸€è‡´çš„å…¸å‹é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆæ˜¯**åœ¨åˆ›å»º`PrintWriter`æ—¶æ˜¾å¼æŒ‡å®šå­—ç¬¦ç¼–ç **ï¼Œå¦‚"UTF-8"ã€‚
    
    ```
    PrintWriter pw = new PrintWriter(new OutputStreamWriter(new FileOutputStream("file.txt"), "UTF-8"));
    ```
    
3. **æ€§èƒ½è€ƒé‡**ï¼šå½“éœ€è¦å†™å…¥å¤§é‡æ•°æ®æ—¶ï¼Œå¯ä»¥è€ƒè™‘å°†`PrintWriter`åŒ…è£…åœ¨`BufferedWriter`ä¸­ï¼Œåˆ©ç”¨ç¼“å†²åŒºæå‡æ•ˆç‡ã€‚
    
    ```
    PrintWriter writer = new PrintWriter(new BufferedWriter(new FileWriter("large_file.txt")));
    ```
    

å¸Œæœ›è¿™äº›è§£é‡Šèƒ½å¸®åŠ©ä½ æ¸…æ™°åœ°æŒæ¡Javaæ‰“å°æµã€‚å¦‚æœä½ å¯¹ç‰¹å®šåœºæ™¯ä¸‹çš„åº”ç”¨æœ‰æ›´å¤šç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ¢è®¨ã€‚
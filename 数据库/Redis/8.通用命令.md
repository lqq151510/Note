除了针对特定数据结构（List, Set, ZSet）的命令外，Redis 还提供了一系列**通用命令（Generic Commands）**。这些命令不关心 Value 是什么类型，主要用于管理 Key 的生命周期、查询和数据库设置。

---

### 1. Key 管理（增删改查）

这些是你在使用 Redis 时频率最高的操作。

- **`DEL key [key2...]`**: 删除一个或多个指定的 key。
    
- **`EXISTS key [key2...]`**: 检查 key 是否存在。返回存在的数量。
    
- **`TYPE key`**: 返回 key 所存储的值的类型（如 `string`, `list`, `set`, `zset`, `hash`）。
    
- **`RENAME key newkey`**: 修改 key 的名称。
    
- **`SCAN cursor [MATCH pattern] [COUNT count]`**: **（重点）** 迭代数据库中的数据库键。相比 `KEYS *`，它是非阻塞的，更适合生产环境。
    

### 2. 过期与生命周期 (Expiry)

控制数据何时自动消失，是 Redis 作为缓存的核心功能。

- **`EXPIRE key seconds`**: 为 key 设置生存时间（秒）。
    
- **`PEXPIRE key milliseconds`**: 为 key 设置生存时间（毫秒）。
    
- **`TTL key`**: 返回 key 的剩余生存时间。
    
    - `-1`: 永久有效。
        
    - `-2`: key 不存在。
        
- **`PERSIST key`**: 移除 key 的过期时间，使其永久有效。
    

### 3. 全局查询与模式匹配

- **`KEYS pattern`**: 查找所有符合给定模式的 key（如 `KEYS user:*`）。
    
    > **⚠️ 注意：** 生产环境下严禁使用 `KEYS *`，因为 Redis 是单线程的，如果 key 数量巨大，会导致服务卡死。请使用 `SCAN`。
    
- **`RANDOMKEY`**: 从当前数据库中随机返回一个 key。
    

---

### 4. 数据库与服务器管理

- **`DBSIZE`**: 返回当前数据库中 key 的总数。
    
- **`SELECT index`**: 切换数据库（Redis 默认有 16 个数据库，索引从 0-15）。
    
- **`FLUSHDB`**: 清空当前数据库中的所有 key。
    
- **`FLUSHALL`**: 清空**所有**数据库中的所有 key（极其危险的操作！）。
    
- **`INFO`**: 返回服务器的各种统计信息和参数。
    

---

### 💡 最佳实践建议

|**场景**|**推荐做法**|
|---|---|
|**查询 Key 列表**|永远使用 `SCAN` 代替 `KEYS`。|
|**临时数据**|务必设置 `EXPIRE`，防止内存溢出。|
|**多业务隔离**|建议使用 Key 前缀（如 `order:1001`）而不是切换 `SELECT` 数据库。|

---

**你想看看如何用这些通用命令结合 `SCAN` 写一个清理特定前缀 Key 的脚本吗？或者对 Hash（哈希）类型的命令也感兴趣？**
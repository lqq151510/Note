Redis 的 **Hash（哈希）** 是一个键值对集合，特别适合存储对象（例如用户信息、商品属性等）。它的命令通常以 **`H`** 开头。

为了方便理解，我将哈希操作命令分为 **基础存取**、**批量操作**、**查询与统计** 以及 **数值增减** 四类。

### 1. 基础存取命令

用于设置和获取单个字段的值。

|**命令**|**说明**|**示例**|
|---|---|---|
|**`HSET key field value`**|设置哈希表中指定字段的值。如果字段已存在，则覆盖。|`HSET user:1 name "Alice"`|
|**`HGET key field`**|获取哈希表中指定字段的值。|`HGET user:1 name`|
|**`HSETNX key field value`**|仅当字段不存在时，设置字段的值。|`HSETNX user:1 age 25`|
|**`HDEL key field1 [field2]`**|删除哈希表中的一个或多个指定字段。|`HDEL user:1 age`|

### 2. 批量操作命令

在处理对象时，通常需要一次性操作多个属性，这些命令能显著减少网络往返时间。

|**命令**|**说明**|**示例**|
|---|---|---|
|**`HMSET key f1 v1 f2 v2`**|同时将多个 field-value 对设置到哈希表中。|`HMSET user:1 city "Beijing" job "Dev"`|
|**`HMGET key f1 f2`**|获取哈希表中一个或多个给定字段的值。|`HMGET user:1 name city`|
|**`HGETALL key`**|获取哈希表中所有的字段和值。|`HGETALL user:1`|

> **注意：** 在更高版本的 Redis 中，`HSET` 已经支持一次设置多个字段，功能上基本可以替代 `HMSET`。

### 3. 查询与统计命令

用于查看哈希表的内部结构、大小或存在性。

|**命令**|**说明**|**示例**|
|---|---|---|
|**`HEXISTS key field`**|查看哈希表中指定的字段是否存在。|`HEXISTS user:1 name`|
|**`HLEN key`**|获取哈希表中字段的数量。|`HLEN user:1`|
|**`HKEYS key`**|获取哈希表中的所有字段名。|`HKEYS user:1`|
|**`HVALS key`**|获取哈希表中的所有值。|`HVALS user:1`|
|**`HSTRLEN key field`**|获取哈希表中指定字段值的字符串长度。|`HSTRLEN user:1 name`|

### 4. 数值增减命令

类似于 String 类型的 `INCR`，Hash 也支持对字段内的数字进行原子增减。

|**命令**|**说明**|**示例**|
|---|---|---|
|**`HINCRBY key field increment`**|为哈希表中指定字段的整数值加上增量。|`HINCRBY user:1 age 1`|
|**`HINCRBYFLOAT key field increment`**|为指定字段的浮点数值加上增量。|`HINCRBYFLOAT user:1 score 0.5`|

---

**典型使用场景举例：**

如果要存储 ID 为 `1001` 的用户信息，你可以使用：

Bash

```
HSET user:1001 name "张三" age 30 city "上海"
```

这样你不仅可以一次性用 `HGETALL user:1001` 查出全貌，也可以单独用 `HSET user:1001 age 31` 来更新年龄，而不需要像 String 类型那样先取出整个 JSON、修改后再写回。

接下来您是想了解 **List（列表）** 的操作，还是想看看如何利用 **Scan** 命令来安全地遍历大数据量的哈希表？
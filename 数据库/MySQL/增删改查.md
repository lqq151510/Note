MySQL的“增删改查”是数据库操作的核心，下面为你详细梳理，特别是查询部分。

|操作|关键字|核心功能|基本语法示例|
|---|---|---|---|
|**增**​|`INSERT INTO`|向表中插入新记录|`INSERT INTO 表名 (列1, 列2) VALUES (值1, 值2);`|
|**删**​|`DELETE FROM`|从表中删除记录|`DELETE FROM 表名 WHERE 条件;`|
|**改**​|`UPDATE`|修改表中已有的记录|`UPDATE 表名 SET 列1=新值1, 列2=新值2 WHERE 条件;`|
|**查**​|`SELECT`|从表中检索数据|`SELECT 列名 FROM 表名 WHERE 条件;`|

### 🔍 查询操作详解

查询是其中最灵活复杂的部分，其完整语法结构如下：

```
SELECT [DISTINCT] {* | 字段列表}
FROM 表名
[WHERE 条件表达式]
[GROUP BY 字段名 [HAVING 条件表达式]]
[ORDER BY 字段名 [ASC | DESC]]
[LIMIT [偏移量,] 记录数];
```

下面我们逐一分解这些子句的用法。

#### 1. 基础查询：选择查什么

- **查询所有列**：使用通配符 `*`，但一般在生产环境中不推荐使用，以免返回不必要的数据影响性能 。
    
    ```
    SELECT * FROM employees;
    ```
    
- **查询指定列**：明确列出所需列名，多个列名用逗号分隔。这是推荐的做法 。
    
    ```
    SELECT name, age, department FROM employees;
    ```
    
- **查询计算列**：字段可以是数学运算、函数或表达式。
    
    ```
    SELECT name, salary, salary * 1.1 AS new_salary FROM employees; -- 计算涨薪10%后的工资
    ```
    

#### 2. 条件筛选：用WHERE子句过滤

`WHERE`子句用于过滤出满足指定条件的记录。

- **比较运算符**：`=`, `>`, `<`, `>=`, `<=`, `<>`（不等于） 。
    
    ```
    SELECT name FROM employees WHERE salary > 5000; -- 查询工资大于5000的员工
    ```
    
- **逻辑运算符**：`AND`, `OR`, `NOT`，用于组合多个条件 。
    
    ```
    SELECT name FROM employees WHERE department = 'Sales' AND salary > 4000; -- 销售部且工资超4000
    ```
    
- **模糊查询**：`LIKE`配合通配符 `%`（任意多个字符）和 `_`（一个字符） 。
    
    ```
    SELECT name FROM employees WHERE name LIKE '张%'; -- 查询姓“张”的员工
    ```
    
- **范围查询**：`IN`（在某个集合内）和 `BETWEEN ... AND ...`（在某个范围内） 。
    
    ```
    SELECT name FROM employees WHERE id IN (101, 205, 307); -- 查询特定ID的员工
    SELECT name FROM employees WHERE salary BETWEEN 4000 AND 8000; -- 查询工资在4000到8000之间的员工
    ```
    
- **查询空值**：使用 `IS NULL`或 `IS NOT NULL`。
    
    ```
    SELECT name FROM employees WHERE department IS NULL; -- 查询部门信息为空的员工
    ```
    

#### 3. 结果排序：用ORDER BY整理

使用 `ORDER BY`对结果进行排序，`ASC`为升序（默认），`DESC`为降序 。

```
SELECT name, salary FROM employees ORDER BY salary DESC; -- 按工资降序排列
SELECT name, salary, hire_date FROM employees ORDER BY department ASC, salary DESC; -- 先按部门升序，同部门再按工资降序
```

#### 4. 限制结果数量：用LIMIT分页

`LIMIT`非常适用于分页查询 。

```
SELECT name FROM employees LIMIT 5; -- 只返回前5条记录
-- 分页查询：LIMIT (页码-1)*每页数量, 每页数量
SELECT name FROM employees LIMIT 10 OFFSET 20; -- 跳过20条记录，取10条（即第3页，每页10条）
```

#### 5. 聚合与分组：统计数据分析

- **聚合函数**：对一组值执行计算，返回单个汇总值。常用函数有：
    
    - `COUNT()`：计数
        
    - `SUM()`：求和
        
    - `AVG()`：求平均值
        
    - `MAX()`/ `MIN()`：求最大/最小值
        
    
    ```
    SELECT COUNT(*) AS total_employees FROM employees; -- 公司总人数
    SELECT AVG(salary) AS avg_salary FROM employees WHERE department = 'IT'; -- IT部门的平均工资
    ```
    
- **分组查询**：`GROUP BY`子句将数据按指定列分组，常与聚合函数配合使用 。
    
    ```
    SELECT department, AVG(salary) AS avg_salary 
    FROM employees 
    GROUP BY department; -- 计算每个部门的平均工资
    ```
    
- **分组后筛选**：`HAVING`子句用于对分组后的结果进行筛选，而 `WHERE`是在分组前对原始数据进行筛选 。
    
    ```
    SELECT department, AVG(salary) AS avg_salary 
    FROM employees 
    GROUP BY department 
    HAVING AVG(salary) > 7000; -- 只显示平均工资大于7000的部门
    ```
    

### ⚠️ 重要注意事项

1. **更新和删除操作务必谨慎**：执行 `UPDATE`和 `DELETE`语句前，**一定要仔细检查 `WHERE`条件**。最好先使用对应的 `SELECT`语句验证要操作的数据，避免误改或误删大量数据 。
    
2. **查询性能**：对于数据量大的表，尽量避免使用 `SELECT *`，并善用索引来提高查询效率 。
    
3. **SQL注入**：在应用程序中拼接SQL语句时，要使用参数化查询等方法来防止SQL注入攻击，确保数据安全 。
    

希望这份详细的指南能帮助你更好地掌握MySQL的查询操作。如果你有特定的查询场景或想了解更高级的查询技巧（如多表连接查询），我可以提供更具体的介绍。
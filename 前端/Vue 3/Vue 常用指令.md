Vue 的指令是模板语法的核心，它们是以 `v-`前缀开头、由 Vue 提供的特殊属性，用于在表达式值改变时响应式地将副作用施加于 DOM。下面这个表格汇总了最常用的 Vue 指令及其核心用途。

|指令|主要用途|简写形式|关键点/适用场景|
|---|---|---|---|
|**`v-text`**​|更新元素的 `textContent`。|-|会覆盖元素内的原有内容。作用类似于 `{{ }}`插值表达式。|
|**`v-html`**​|更新元素的 `innerHTML`。|-|**注意XSS风险**，仅用于可信内容。|
|**`v-if`/ `v-else-if`/ `v-else`**​|**条件渲染**，根据表达式真假值有条件地渲染元素。|-|通过销毁/重建 DOM 元素实现切换。若需频繁切换，使用 `v-show`性能更佳。|
|**`v-show`**​|**条件显示**，通过 CSS 控制元素的显示/隐藏。|-|通过切换 `display: none`样式实现。**DOM 元素始终存在**。适合需要高频切换的场景。|
|**`v-for`**​|**列表渲染**，基于数据源多次渲染一个元素或模板块。|-|遍历数组或对象。**必须绑定唯一的 `key`属性**，以提升性能并维持内部组件状态。|
|**`v-on`**​|**事件绑定**，监听 DOM 事件并在触发时执行代码。|`@`|可绑定方法或内联表达式。支持丰富的**事件修饰符**（如 `.stop`, `.prevent`, `.enter`）。|
|**`v-bind`**​|**动态绑定**，将一个或多个属性或组件 prop 与表达式动态绑定。|`:`|常用于动态设置 `id`, `href`, `src`等属性，或动态绑定 `class`和 `style`。|
|**`v-model`**​|**双向数据绑定**，在表单输入元素或组件上创建双向数据绑定。|-|**语法糖**，本质是 `v-bind`绑定 value 和 `v-on`监听 input 事件的结合。支持 `.lazy`, `.number`, `.trim`等修饰符。|
|**`v-once`**​|**一次性插值**，只渲染元素和组件一次。|-|后续数据变化时，该元素/组件及其子项将被视为静态内容跳过更新，可用于优化性能。|
|**`v-pre`**​|**跳过编译**，跳过这个元素和它的子元素的编译过程。|-|用于显示原始 Mustache 标签，例如在展示 Vue 语法本身的文档中。|
|**`v-cloak`**​|**解决闪烁**，解决初始化慢时页面显示未编译的 Mustache 标签的问题。|-|需要配合 CSS 规则 `[v-cloak] { display: none; }`使用。|
|**`v-slot`**​|**定义插槽**，用于定义具名插槽或作用域插槽。|`#`|在组件模板中用于内容分发，传递复杂内容。|

### 💡 核心指令详解与最佳实践

1. **`v-if`与 `v-show`的选择**
    
    - **`v-if`**​ 是“真正”的条件渲染，因为它会确保在切换过程中，条件块内的事件监听器和子组件被适当地销毁和重建。如果初始条件为假，则什么也不做，直到条件变为真。
        
    - **`v-show`**​ 简单得多，不管初始条件是什么，元素总是会被渲染，只是基于 CSS 的 `display`属性进行切换。
        
    - **使用建议**：如果需要非常频繁地切换可见性，使用 `v-show`；如果在运行时条件很少改变，使用 `v-if`。
        
    
2. **`v-for`与 `key`属性**
    
    使用 `v-for`时，为每个迭代项绑定一个唯一的 `key`属性是**至关重要**的。这能帮助 Vue 跟踪每个节点的身份，从而高效地重用和重新排序现有元素。最好使用数据项本身的唯一标识（如 `id`），避免使用数组索引 `index`作为 `key`，因为在数据项顺序改变时，索引本身并不稳定。
    
3. **`v-model`的本质**
    
    `v-model`是双向绑定的语法糖。例如，`<input v-model="searchText">`本质上等价于：
    
    ```
    <input 
      :value="searchText" 
      @input="searchText = $event.target.value"
    >
    ```
    
    它会根据所使用的表单元素（如 `input`, `checkbox`, `select`）自动选取正确的方式来更新数据。
    

### ⚙️ 自定义指令简介

除了内置指令，Vue 允许你注册**自定义指令**，用于封装直接的 DOM 操作逻辑，例如自动聚焦、权限控制等。

一个简单的全局自动聚焦指令的注册和使用示例如下：

```
// 全局注册 (Vue 3)
const app = createApp(App);
app.directive('focus', {
  mounted(el) { // 在Vue 2中可能是 'inserted'
    el.focus();
  }
});
```

```
<!-- 在模板中使用 -->
<input v-focus>
```

自定义指令有自己的一套生命周期钩子（如 `mounted`, `updated`等），你可以在这些钩子函数中编写操作 DOM 的逻辑。

希望这份指南能帮助你系统地理解和运用 Vue 的常用指令。如果你对某个特定指令的用法或实际应用场景有更深入的疑问，我很乐意为你提供进一步的解释。
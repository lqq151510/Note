Vue 3 提供了两种主要的 API 风格供你构建组件：**选项式 API (Options API)**​ 和 **组合式 API (Composition API)**。它们像是两种不同的代码组织哲学，各有特点。

下表可以帮你快速把握它们的核心区别。

|特性维度|选项式 API (Options API)|组合式 API (Composition API)|
|---|---|---|
|**核心思想**​|围绕“组件实例”概念，按选项分类组织代码|直接在函数作用域内定义响应式状态，并通过函数组合处理复杂逻辑|
|**代码组织方式**​|将代码分散到固定的选项中（如 `data`, `methods`, `mounted`)|将同一逻辑关注点的代码聚合在一起|
|**响应式数据声明**​|在 `data()`函数中返回对象|使用 `ref()`, `reactive()`等函数创建|
|**生命周期钩子**​|作为选项直接定义（如 `mounted`)|通过函数调用（如 `onMounted()`)|
|**逻辑复用**​|相对复杂（混入mixins等）|非常灵活（组合式函数）|
|**TypeScript支持**​|支持，但体验一般|原生支持良好，类型推断更完善|
|**学习曲线**​|对初学者更友好，结构清晰|需要理解响应式系统的细节，灵活性更高|
|**适用场景**​|低复杂度场景、渐进增强项目、面向对象背景团队|大型单页应用、复杂组件、需要高可维护性和逻辑复用的项目|

### 💡 选项式API：结构规整的经典之选

选项式API是Vue 2的经典写法，它通过一个包含多个选项的对象来描述组件逻辑，比如 `data`、`methods`、`mounted`等。这种风格**将代码分门别类地放在预设的“格子”里**，结构非常清晰，对于初学者或者有面向对象编程背景的开发者来说，更容易上手和理解。

它的代码模板类似这样：

```
<script>
export default {
  data() {
    return {
      count: 0
    }
  },
  methods: {
    increment() {
      this.count++
    }
  },
  mounted() {
    console.log(`初始值是: ${this.count}`)
  }
}
</script>
```

### ⚙️ 组合式API：灵活强大的现代写法

组合式API是Vue 3引入的新范式，核心思想是**使用导入的API函数来声明式地描述组件逻辑**。它最大的优势在于，可以将与同一功能相关的代码（数据、方法、生命周期）组织在一起，极大地提升了代码的可读性和可维护性，尤其在处理复杂组件时。推荐使用 `<script setup>`语法糖，能让代码更简洁。

使用组合式API实现同样功能的代码如下：

```
<script setup>
import { ref, onMounted } from 'vue'

// 响应式状态
const count = ref(0)
// 修改状态的函数
function increment() {
  count.value++
}
// 生命周期钩子
onMounted(() => {
  console.log(`初始值是: ${count.value}`)
})
</script>
```

### 🔄 如何选择适合的风格

1. **新手入门**：如果你刚接触Vue，可以从**选项式API**开始。它通过规定的选项降低了理解响应式概念的门槛，让你能更快地构建出简单应用。
    
2. **构建完整大型应用**：如果你正在开发一个复杂的单页应用（SPA），需要高度的可维护性和逻辑复用能力，**组合式API**是更强大的选择。
    
3. **低复杂度或渐进式增强**：对于简单的页面或与非Vue服务端框架结合的渐进式增强场景，选项式API因其简洁明了依然是不错的选择。
    
4. **团队考量**：如果团队主要由有Vue 2经验或面向对象背景的成员构成，选项式API可能更容易达成共识。反之，一个追求新技术、擅长函数式思维的团队可能会更青睐组合式API。
    

### 💎 总结与建议

选项式API和组合式API是同一底层系统的两套接口，Vue 3对两者都提供了完整支持。选项式API以**结构规整**见长，组合式API则以**逻辑组织和复用灵活性**取胜。

在实际开发中，你不必拘泥于一种风格。建议先从一种风格入手，在熟悉核心概念后，再学习另一种风格。这样你就能根据具体项目需求和团队情况，做出最合适的选择。

希望这份对比能帮助你理清思路。如果你对某种风格的具体用法或某个概念有更深入的疑问，我们可以继续探讨。